(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{280:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return b}));var a=n(2),r=n(6),o=(n(0),n(298)),i=(n(302),n(303),{id:"staking-ssn-setup",title:"Setting up the SSN",keywords:["staking","getting started","seed node","launching node","zilliqa"],description:"Setting up the SSN"}),c={id:"staking/phase1/ssn-operator/staking-ssn-setup",isDocsHomePage:!1,title:"Setting up the SSN",description:"Setting up the SSN",source:"@site/docs/staking/phase1/ssn-operator/staking-ssn-setup.mdx",permalink:"/docs/staking/phase1/ssn-operator/staking-ssn-setup",editUrl:"https://github.com/Zilliqa/dev-portal/tree/master/docs/staking/phase1/ssn-operator/staking-ssn-setup.mdx",sidebar:"StakingSidebar",previous:{title:"Before You Start",permalink:"/docs/staking/phase1/ssn-operator/staking-ssn-before-you-start"},next:{title:"Enrolment of SSN into Staking Smart Contract",permalink:"/docs/staking/phase1/ssn-operator/staking-ssn-enrollment"}},l=[{value:"Default Port Requirements for SSNs",id:"default-port-requirements-for-ssns",children:[]},{value:"Preparing the Node",id:"preparing-the-node",children:[{value:"Configuring Domain Name",id:"configuring-domain-name",children:[]},{value:"SSL/TLS Configuration",id:"ssltls-configuration",children:[]}]},{value:"Advanced Setup",id:"advanced-setup",children:[]}],s={rightToc:l};function b(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("hr",null),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"The Mainnet has been upgraded to support staking phase 1.1. You can now start to run a staked seed node on the Mainnet."))),Object(o.b)("h2",{id:"default-port-requirements-for-ssns"},"Default Port Requirements for SSNs"),Object(o.b)("p",null,"Before preparing to host an SSN, please note that these are the ports that ",Object(o.b)("strong",{parentName:"p"},"must")," be enabled in the SSN:"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Type"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Default"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Purpose"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Inbound"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"33133"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Protocol level port for receiving network data")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Inbound"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"4201/443"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("a",Object(a.a)({parentName:"td"},{href:"https://apidocs.zilliqa.com/#introduction"}),"API service"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Inbound"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"4501"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Staking API service")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Outbound"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"443"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"For getting initial node data for syncing")))),Object(o.b)("p",null,"Additionally, there are ports that ",Object(o.b)("strong",{parentName:"p"},"may")," be enabled in the SSN:"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Type"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Default"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Purpose"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Inbound"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"4401"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("a",Object(a.a)({parentName:"td"},{href:"../../../dev/dev-tools-websockets"}),"WebSocket service"))))),Object(o.b)("h2",{id:"preparing-the-node"},"Preparing the Node"),Object(o.b)("p",null,"Launching a seed node for staking is similar to launching a normal seed node using ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"../../../exchanges/exchange-key-whitelisting-1"}),"key whitelisting mode (option 1)"),", with some additional configuration steps."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"First, please verify that your SSN meets the ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"../../../exchanges/exchange-getting-started#minimum-hardware-requirements"}),"minimum hardware requirements"),"."),Object(o.b)("li",{parentName:"ol"},"Follow the steps for launching a seed node using ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"../../../exchanges/exchange-key-whitelisting-1"}),"key whitelisting mode (option 1)"),", except use ",Object(o.b)("inlineCode",{parentName:"li"},"ssn-configuration.tar.gz")," instead of ",Object(o.b)("inlineCode",{parentName:"li"},"seed-configuration.tar.gz"),".")),Object(o.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Step 2 above includes generating a key pair for launching the seed node. We highly recommend ",Object(o.b)("strong",{parentName:"p"},"not")," to use the same key pair for depositing stake, withdrawing stake and withdrawing reward."))),Object(o.b)("h3",{id:"configuring-domain-name"},"Configuring Domain Name"),Object(o.b)("p",null,"Once your seed node is fully set up, it is time to configure your domain name to point to the address of your seed node."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"If your seed node is not behind a load balancer, you can set an ",Object(o.b)("inlineCode",{parentName:"li"},"A record")," in your domain registrar to point your domain/subdomain to your seed node\u2019s IP address."),Object(o.b)("li",{parentName:"ul"},"If your seed node is behind a load balancer, you can set a ",Object(o.b)("inlineCode",{parentName:"li"},"CNAME record")," in your domain registrar to point your domain/subdomain to the hostname of your load balancer.")),Object(o.b)("h3",{id:"ssltls-configuration"},"SSL/TLS Configuration"),Object(o.b)("p",null,"As the staked seed nodes are for public consumption, we expect these nodes to have high availability and be secure and reliable. As such, all operators are required to support serving of API and raw data requests over SSL/TLS."),Object(o.b)("h2",{id:"advanced-setup"},"Advanced Setup"),Object(o.b)("p",null,"Different node operators may wish to have a different setup to secure their SSN. It is possible as long as:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"JSON-RPC port (by default 4201) and WebSocket port are accessible by anyone without any restriction"),Object(o.b)("li",{parentName:"ol"},"Staking API port (by default 4501) is accessible by the verifier to check the SSN")),Object(o.b)("p",null,"SSN operators are allowed to:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Change the default port numbers (please inform us)"),Object(o.b)("li",{parentName:"ul"},"Add a load balancer in front of their node"),Object(o.b)("li",{parentName:"ul"},"Add additional services such as Cloudflare proxy in front of the node"),Object(o.b)("li",{parentName:"ul"},"Run more than 1 SSN node behind a load balancer (these will collectively be treated as a single SSN)")),Object(o.b)("p",null,"SSN operators are not allowed to:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Outsource API service to other node operators or Zilliqa seed nodes"),Object(o.b)("li",{parentName:"ul"},"Restrict or censor any API service to the public or any region")))}b.isMDXComponent=!0},298:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),b=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=b(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=b(n),p=a,m=u["".concat(i,".").concat(p)]||u[p]||d[p]||o;return n?r.a.createElement(m,c(c({ref:t},s),{},{components:n})):r.a.createElement(m,c({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var s=2;s<o;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},299:function(e,t,n){"use strict";function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r}},300:function(e,t,n){"use strict";var a=n(0);const r=Object(a.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{},isAnnouncementBarClosed:!1,closeAnnouncementBar:()=>{}});t.a=r},301:function(e,t,n){"use strict";var a=n(0),r=n(300);t.a=function(){return Object(a.useContext)(r.a)}},302:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(301),i=n(299),c=n(92),l=n.n(c);const s=37,b=39;t.a=function(e){const{block:t,children:n,defaultValue:c,values:u,groupId:d}=e,{tabGroupChoices:p,setTabGroupChoices:m}=Object(o.a)(),[O,h]=Object(a.useState)(c);if(null!=d){const e=p[d];null!=e&&e!==O&&u.some(t=>t.value===e)&&h(e)}const j=e=>{h(e),null!=d&&m(d,e)},g=[];return r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":t})},u.map(({value:e,label:t})=>r.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":O===e,className:Object(i.a)("tabs__item",l.a.tabItem,{"tabs__item--active":O===e}),key:e,ref:e=>g.push(e),onKeyDown:e=>((e,t,n)=>{switch(n.keyCode){case b:((e,t)=>{const n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()})(e,t);break;case s:((e,t)=>{const n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()})(e,t)}})(g,e.target,e),onFocus:()=>j(e),onClick:()=>j(e)},t))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(n).filter(e=>e.props.value===O)[0]))}},303:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){return r.a.createElement("div",null,e.children)}}}]);