<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="search" type="application/opensearchdescription+xml" title="Zilliqa Developer Portal" href="/opensearch.xml"><title data-react-helmet="true">Sharding Mechanism | Zilliqa Developer Portal</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Sharding Mechanism | Zilliqa Developer Portal"><meta data-react-helmet="true" name="description" content="Zilliqa Sharding Mechanism"><meta data-react-helmet="true" property="og:description" content="Zilliqa Sharding Mechanism"><meta data-react-helmet="true" name="keywords" content="types of sharding,network sharding,transaction sharding,transaction types,zilliqa"><meta data-react-helmet="true" property="og:url" content="https://dev.zilliqa.com/docs/basics/basics-zil-sharding"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://dev.zilliqa.com/docs/basics/basics-zil-sharding"><link rel="stylesheet" href="/styles.90e6c070.css">
<link rel="preload" href="/styles.e6d5f6ad.js" as="script">
<link rel="preload" href="/runtime~main.a0fa3e0b.js" as="script">
<link rel="preload" href="/main.1791fe9a.js" as="script">
<link rel="preload" href="/1.572a4dde.js" as="script">
<link rel="preload" href="/2.69025b56.js" as="script">
<link rel="preload" href="/194.93b79b72.js" as="script">
<link rel="preload" href="/195.8bbd0729.js" as="script">
<link rel="preload" href="/20ac7829.3f24c2c8.js" as="script">
<link rel="preload" href="/17896441.4d4153da.js" as="script">
<link rel="preload" href="/6eae7865.f28ed6a9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Zilliqa Logo"><strong class="navbar__title">Zilliqa Developer Portal</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/basics/basics-intro-blockchain">Basics</a><a class="navbar__item navbar__link" href="/docs/dev/dev-started-introduction">Developers</a><a class="navbar__item navbar__link" href="/docs/apis/api-introduction">APIs</a><a class="navbar__item navbar__link" href="/docs/miners/mining-getting-started">Miners</a><a class="navbar__item navbar__link" href="/docs/exchanges/exchange-getting-started">Exchanges</a><a class="navbar__item navbar__link" href="/docs/staking/staking-overview">Staking</a><a class="navbar__item navbar__link" href="/docs/contributors/contribute-buildzil">Contributors</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><div class="searchWrapper_-F3-"><span aria-label="expand searchbar" role="button" class="searchIconButton_1Dnz" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2eto"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Zilliqa Logo"><strong class="navbar__title">Zilliqa Developer Portal</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/basics/basics-intro-blockchain">Basics</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dev/dev-started-introduction">Developers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/apis/api-introduction">APIs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miners/mining-getting-started">Miners</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/exchanges/exchange-getting-started">Exchanges</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/staking/staking-overview">Staking</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/contributors/contribute-buildzil">Contributors</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Blockchain Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/basics-intro-blockchain">Blockchain</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/basics-intro-consensus">Consensus mechanism</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/basics-intro-accounts">Accounts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/basics-intro-txns">Transactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/basics-intro-gas">Gas</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Zilliqa Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basics/basics-zil-nodes">Types of Nodes</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/basics/basics-zil-sharding">Sharding Mechanism</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basics/basics-zil-consensus">Consensus Mechanism</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basics/basics-zil-schnorr-signatures">Schnorr Signatures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basics/basics-zil-reward">Reward Mechanism</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basics/basics-zil-contract">Smart Contract Layer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/basics/basics-zil-gas">Gas Accounting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Zilliqa Ecosystem</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/basics/overview">Overview of Zilliqa Ecosystem</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Sharding Mechanism</h1></header><div class="markdown"><hr><p>In this section, we present the core idea of sharding that makes Zilliqa scale. Sharding in Zilliqa takes many forms: <em>network sharding</em>, <em>transaction sharding</em>, and <em>computational sharding</em>. The most important among these is network sharding as the other sharding mechanisms are built atop the network sharding layer.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="network-sharding"></a>Network Sharding<a aria-hidden="true" tabindex="-1" class="hash-link" href="#network-sharding" title="Direct link to heading">#</a></h2><img alt="Network sharding" src="/img/basics/networksharding.png"><p>Network sharding (which will be referred to simply as <em>sharding</em> in this context) is a mechanism that allows the Zilliqa network to be divided into smaller groups of nodes each referred to as a <em>shard</em>. Simply put, imagine a network of 1,000 nodes, then, one may divide the network into 10 shards each composed of 100 nodes.</p><p>Network sharding is the secret sauce that makes Zilliqa truly scalable. Imagine our example network of 1,000 nodes. Zilliqa would automatically divide the network into 10 shards each with 100 nodes. Now, these shards can process transactions in parallel. If each shard is capable of processing 10 transactions per second, then all shards together can process 100 transactions per second. The ability to process transactions in parallel due to the sharded architecture ensures that the throughput in Zilliqa linearly increases with the size of the network.</p><p>The idea of sharding is certainly not new, and it can be traced back to the field of databases, where it is employed to improve performance, scalability and I/O bandwidth. The idea of sharding in the context of blockchains however was first put forth in an <a href="https://dl.acm.org/doi/10.1145/2976749.2978389">academic paper</a> co-authored by Zilliqa team members in 2015.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="transaction-sharding"></a>Transaction Sharding<a aria-hidden="true" tabindex="-1" class="hash-link" href="#transaction-sharding" title="Direct link to heading">#</a></h2><p>As discussed above, network sharding opens up avenues for parallel transaction processing — each shard should now be able to independently process transactions and hence yield high throughput. Whenever a transaction reaches the network, it gets assigned to a specific shard. The assignment is determined by the first few bits of the sending address of the transaction. This is called <em>transaction sharding</em>.</p><p>For example, to assign transactions in a network with two shards S1 and S2, we first check the sender’s address. If the sender’s address ends with 0, then the transaction should be assigned to S1, else it should be assigned to S2.</p><p>This assignment strategy, however, only works with payment transactions. To properly handle both payment and smart contract transactions, a different solution is employed by categorizing transactions so that we can have a separate assignment strategy for each category.</p><p>Transactions received by the network can be classified into the following categories depending on the type of accounts involved. Below, we call an account a <em>user account</em> (or a non-contract account) if it is controlled by a user and does not hold contract code. As an extension, an account that holds contract code will be referred to as a <em>contract account</em>.</p><img alt="Transaction sharding" src="/img/basics/txnsharding.png"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="type-i"></a>Type I<a aria-hidden="true" tabindex="-1" class="hash-link" href="#type-i" title="Direct link to heading">#</a></h3><p>Type I (U1 -&gt; U2): A user account sending some money to another user account, i.e., regular payment transactions that do not involve smart contracts. An example transaction would be a user Alice sending some $ZILs to another user Bob.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="type-ii"></a>Type II<a aria-hidden="true" tabindex="-1" class="hash-link" href="#type-ii" title="Direct link to heading">#</a></h3><p>Type II (U -&gt; C): A user calling a smart contract that does not call any other smart contract, neither does the contract transfer funds to another user. I.e., transactions that involve only a user account and a smart contract. An example transaction would be a user Alice donating 5 $ZIL to a crowdfunding contract.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="type-iii"></a>Type III<a aria-hidden="true" tabindex="-1" class="hash-link" href="#type-iii" title="Direct link to heading">#</a></h3><p>Type III (U1 -&gt; C1 -&gt; … -&gt; Cn [-&gt; U2]): Any other transaction. This category includes transactions originating from a user that can invoke a chain of contracts and potentially terminate with a user account. An example transaction will be Alice calling a travel agent contract (C1) that calls an airline contract (C2) that in turn calls an insurance contract (C3).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="assignment-strategy"></a>Assignment Strategy<a aria-hidden="true" tabindex="-1" class="hash-link" href="#assignment-strategy" title="Direct link to heading">#</a></h3><p>At any given time, each shard will only handle transactions of Type I and II, while the DS committee will handle transactions of Type III only after transactions of Categories I and II have been validated by the rest of the shards. The DS committee may also handle certain transactions of Type I or II. Do note that the DS committee will not handle transactions in parallel (to the shards); otherwise, it will become possible to double spend.</p><p>The exact assignment strategy is as follows:</p><ol><li><p>For a network with k = 2^n shards, each shard will only process transactions of Type I and II in which both the sender’s and the recipient’s address have the same last n bits.</p></li><li><p>Any other transaction (including of Type III)) will be processed by the DS committee after the other shards have finished processing transactions meant for them.</p></li></ol></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Zilliqa/dev-portal/tree/master/docs/basics/basics-zil-sharding.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/basics/basics-zil-nodes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Types of Nodes</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/basics/basics-zil-consensus"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Consensus Mechanism »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#network-sharding" class="table-of-contents__link">Network Sharding</a></li><li><a href="#transaction-sharding" class="table-of-contents__link">Transaction Sharding</a><ul><li><a href="#type-i" class="table-of-contents__link">Type I</a></li><li><a href="#type-ii" class="table-of-contents__link">Type II</a></li><li><a href="#type-iii" class="table-of-contents__link">Type III</a></li><li><a href="#assignment-strategy" class="table-of-contents__link">Assignment Strategy</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Developer Groups</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/invite/XMRE9tt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://t.me/ZilliqaDevs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/zilliqa" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCvinnFbf0u71cajoxKcfZIQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Other Links</h4><ul class="footer__items"><li class="footer__item"><a href="https://blog.zilliqa.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/zilliqa" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2019 Zilliqa Research Pte. Ltd.</div></div></div></footer></div>
<script src="/styles.e6d5f6ad.js"></script>
<script src="/runtime~main.a0fa3e0b.js"></script>
<script src="/main.1791fe9a.js"></script>
<script src="/1.572a4dde.js"></script>
<script src="/2.69025b56.js"></script>
<script src="/194.93b79b72.js"></script>
<script src="/195.8bbd0729.js"></script>
<script src="/20ac7829.3f24c2c8.js"></script>
<script src="/17896441.4d4153da.js"></script>
<script src="/6eae7865.f28ed6a9.js"></script>
</body>
</html>