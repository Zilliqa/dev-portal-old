(window.webpackJsonp=window.webpackJsonp||[]).push([[178],{282:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return b}));var a=n(2),r=n(6),i=(n(0),n(295)),c={id:"dev-txn-receipt",title:"Receipt",keywords:["receipt","transitions","events","params","transaction","zilliqa"],description:"Zilliqa Transaction Receipt"},o={id:"dev/dev-txn-receipt",isDocsHomePage:!1,title:"Receipt",description:"Zilliqa Transaction Receipt",source:"@site/docs/dev/dev-txn-receipt.md",permalink:"/docs/dev/dev-txn-receipt",editUrl:"https://github.com/Zilliqa/dev-portal/tree/master/docs/dev/dev-txn-receipt.md",sidebar:"DevelopersSidebar",previous:{title:"Confirmation",permalink:"/docs/dev/dev-txn-confirmation"},next:{title:"Zilliqa Development Videos",permalink:"/docs/dev/dev-education-videos"}},l=[{value:"Params",id:"params",children:[]},{value:"Events",id:"events",children:[]},{value:"Transitions",id:"transitions",children:[]},{value:"Exception",id:"exception",children:[]}],s={rightToc:l};function b(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("hr",null),Object(i.b)("p",null,"After a transaction is confirmed in the blockchain, a transaction response would be returned along with a ",Object(i.b)("inlineCode",{parentName:"p"},"receipt"),"."),Object(i.b)("p",null,"Example of a transaction response with the ",Object(i.b)("inlineCode",{parentName:"p"},"receipt")," structure:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),'{\n  "id": "1",\n  "jsonrpc": "2.0",\n  "result": {\n      // others\n\n    "receipt": {\n      "accepted": true,\n      "cumulative_gas": "878",\n      "epoch_num": "589742",\n      "success": true,\n      "transitions": [\n        {\n          "addr": "0x9a65df55b2668a0f9f5f749267cb351a37e1f3d9",\n          "depth": 0,\n          "msg": {\n            "_amount": "50000000000000",\n            "_recipient": "0xc0e28525e9d329156e16603b9c1b6e4a9c7ed813",\n            "_tag": "onFundsReceived",\n            "params": []\n          }\n        }\n      ]\n    },\n    "senderPubKey": "0x03DE40DF885B0E334D53FF5E5554589AAF46F2339FEBEE93213F2CCE52D1F488F4",\n    "signature": "0xB19AB66C4410EE4833A9C5DEE600471DB4D711F6B61D2312988E6E70CC655409F18BB42BB6940B6263C8EA5CE08CAEC06111BDF19BE00D7E15F25515CAA45DAA",\n    "toAddr": "9a65df55b2668a0f9f5f749267cb351a37e1f3d9",\n    "version": "65537"\n  }\n}\n')),Object(i.b)("p",null,"Depending on the type of transaction (e.g. payment, contract call, chain contract call) being processed, the ",Object(i.b)("inlineCode",{parentName:"p"},"receipt")," may return different data."),Object(i.b)("h2",{id:"params"},"Params"),Object(i.b)("p",null,"This section lists all the ",Object(i.b)("em",{parentName:"p"},"possible"),"  ",Object(i.b)("inlineCode",{parentName:"p"},"receipt")," returned values."),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Name"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Description"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"cumulative_gas")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The total amount of gas used when it is executed in the particular block")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"epoch_num")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The block number when this transaction is allocated to")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"errors")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Contains the error code if the transaction has any errors")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"event_logs")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Contains the parameters of the contract transition being invoked")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"exceptions")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Returns the exception messages if there is an error when invoking contract")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"transitions")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Contains the parameters used to call the specific transition")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"success")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Returns true if the transaction is successfully executed, false otherwise")))),Object(i.b)("h2",{id:"events"},"Events"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"event_logs")," are events created as a result of invoking the contract calls."),Object(i.b)("p",null,"For instance, in the following sample contract code, calling ",Object(i.b)("inlineCode",{parentName:"p"},"setHello"),' transition would trigger a "',Object(i.b)("inlineCode",{parentName:"p"},"setHello"),'" event name.'),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),'(* HelloWorld Sample *)\n\ntransition setHello (msg : String)\n  is_owner = builtin eq owner _sender;\n  match is_owner with\n  | False =>\n    e = {_eventname : "setHello()"; code : not_owner_code};\n    event e\n  | True =>\n    welcome_msg := msg;\n    e = {_eventname : "setHello()"; code : set_hello_code}; (* trigger event here *)\n    event e\n  end\nend\n')),Object(i.b)("p",null,"If we execute this transition, the returned ",Object(i.b)("inlineCode",{parentName:"p"},"receipt")," is as follows:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),'{\n    "id": "1",\n    "jsonrpc": "2.0",\n    "result": {\n        // others\n        "receipt": {\n            "accepted": false,\n            "cumulative_gas": "668",\n            "epoch_num": "1474081",\n            "event_logs": [\n                {\n                    "_eventname": "setHello()",\n                    "address": "0xde8d3637aec06d6c7da49aeb9c7409ac44a98138",\n                    "params": [\n                        {\n                            "type": "Int32",\n                            "value": "2",\n                            "vname": "code"\n                        }\n                    ]\n                }\n            ],\n            "success": true\n        },\n    }\n}\n')),Object(i.b)("p",null,"Observed that the ",Object(i.b)("inlineCode",{parentName:"p"},"setHello")," event is returned as the ",Object(i.b)("inlineCode",{parentName:"p"},"setHello")," transition is successfully executed by the blockchain."),Object(i.b)("h2",{id:"transitions"},"Transitions"),Object(i.b)("p",null,"A ",Object(i.b)("inlineCode",{parentName:"p"},"transitions")," object is returned if the contract is invoking other procedures or another contract transition. A ",Object(i.b)("inlineCode",{parentName:"p"},"transition"),' object provides details of the "transition chain" such as the address of the initiator, the tag (transition name), the recipient, the params .etc.'),Object(i.b)("p",null,"Example of a ",Object(i.b)("inlineCode",{parentName:"p"},"transition")," object:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),'{\n  "id": "1",\n  "jsonrpc": "2.0",\n  "result": {\n    "ID": "52605cee6955b3d14f5478927a90977b305325aff4ae0a2f9dbde758e7b92ad4",\n    "amount": "50000000000000",\n    "data": "{\\"_tag\\":\\"sendFunds\\",\\"params\\":[{\\"vname\\":\\"accountValues\\",\\"type\\":\\"List (AccountValue)\\",\\"value\\":[{\\"constructor\\":\\"AccountValue\\",\\"argtypes\\":[],\\"arguments\\":[\\"0xc0e28525e9d329156e16603b9c1b6e4a9c7ed813\\",\\"50000000000000\\"]}]}]}",\n    "gasLimit": "25000",\n    "gasPrice": "1000000000",\n    "nonce": "3816",\n    "receipt": {\n      "accepted": true,\n      "cumulative_gas": "878",\n      "epoch_num": "589742",\n      "success": true,\n      "transitions": [\n        {\n          "addr": "0x9a65df55b2668a0f9f5f749267cb351a37e1f3d9",\n          "depth": 0,\n          "msg": {\n            "_amount": "50000000000000",\n            "_recipient": "0xc0e28525e9d329156e16603b9c1b6e4a9c7ed813",\n            "_tag": "onFundsReceived",\n            "params": []\n          }\n        }\n      ]\n    },\n    ...\n  }\n}\n')),Object(i.b)("p",null,"In the above example, from the ",Object(i.b)("inlineCode",{parentName:"p"},"data")," object we can observe the ",Object(i.b)("inlineCode",{parentName:"p"},"sendFunds")," transition is invoked here, presumably to send ",Object(i.b)("inlineCode",{parentName:"p"},"50000000000000")," to ",Object(i.b)("inlineCode",{parentName:"p"},"0xc0e28525e9d329156e16603b9c1b6e4a9c7ed813"),". Notice that in the ",Object(i.b)("inlineCode",{parentName:"p"},"transitions")," object,  the ",Object(i.b)("inlineCode",{parentName:"p"},"onFundsReceived")," procedure is subsequently invoked internally, and we can observe the recipient and amount is indeed the transmitted amount."),Object(i.b)("h2",{id:"exception"},"Exception"),Object(i.b)("p",null,"A ",Object(i.b)("inlineCode",{parentName:"p"},"exceptions")," object is returned if the contract specifically raise an error when it encounters issues invoking the transition, for example, invoking a transfer transition without sufficient balance .etc. A ",Object(i.b)("inlineCode",{parentName:"p"},"exceptions")," object contains the ",Object(i.b)("inlineCode",{parentName:"p"},"line")," number of the contract that raised the error and the corresponding exception ",Object(i.b)("inlineCode",{parentName:"p"},"message"),"."),Object(i.b)("p",null,"Example of an ",Object(i.b)("inlineCode",{parentName:"p"},"exceptions")," object:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),'"receipt": {\n    ... // others\n    ...\n    "exceptions": [\n        {\n            "line": 87,\n            "message": "Exception thrown: (Message [(_exception : (String \\"Error\\")) ; (code : (Int32 -2))])"\n        },\n        {\n            "line": 100,\n            "message": "Raised from IsAdmin"\n        },\n        {\n            "line": 137,\n            "message": "Raised from ConfigureUsers"\n        }\n    ]\n}\n')))}b.isMDXComponent=!0},295:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),b=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=b(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=b(n),u=a,m=p["".concat(c,".").concat(u)]||p[u]||d[u]||i;return n?r.a.createElement(m,o(o({ref:t},s),{},{components:n})):r.a.createElement(m,o({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,c=new Array(i);c[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,c[1]=o;for(var s=2;s<i;s++)c[s]=n[s];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);