(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{176:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return p}));var n=a(2),r=a(6),c=(a(0),a(296)),l=a(300),b=a(301),i={id:"dev-keys-zrc2-wallet-support",title:"ZRC-2 Wallet Support",keywords:["key management","zrc2","wallet","support","token","fungible","zilliqa"],description:"Integrating ZRC-2 Fungible Tokens Support into Wallets and dApps"},o={id:"dev/dev-keys-zrc2-wallet-support",isDocsHomePage:!1,title:"ZRC-2 Wallet Support",description:"Integrating ZRC-2 Fungible Tokens Support into Wallets and dApps",source:"@site/docs/dev/dev-keys-zrc2-wallet-support.mdx",permalink:"/docs/dev/dev-keys-zrc2-wallet-support",editUrl:"https://github.com/Zilliqa/dev-portal/tree/master/docs/dev/dev-keys-zrc2-wallet-support.mdx",sidebar:"DevelopersSidebar",previous:{title:"Private Key & Keystore File",permalink:"/docs/dev/dev-keys-pkey"},next:{title:"Magic",permalink:"/docs/dev/dev-keys-magic"}},s=[{value:"Introduction to ZRC-2",id:"introduction-to-zrc-2",children:[]},{value:"Examples of ZRC-2",id:"examples-of-zrc-2",children:[]},{value:"Getting Testnet ZRC-2 Tokens",id:"getting-testnet-zrc-2-tokens",children:[]},{value:"ZRC-2 Specification",id:"zrc-2-specification",children:[{value:"Error Codes",id:"error-codes",children:[]},{value:"Immutable Variables",id:"immutable-variables",children:[]},{value:"Mutable Variables",id:"mutable-variables",children:[]},{value:"Transitions and Events",id:"transitions-and-events",children:[]}]},{value:"Checking if Contract is Compliant with ZRC-2 Standard",id:"checking-if-contract-is-compliant-with-zrc-2-standard",children:[{value:"Check Immutable Variables",id:"check-immutable-variables",children:[]},{value:"Check Mutable Variables",id:"check-mutable-variables",children:[]},{value:"Check Transitions, Events, and Error Codes",id:"check-transitions-events-and-error-codes",children:[]}]},{value:"Integrating with ZRC-2 Fungible Tokens Contract",id:"integrating-with-zrc-2-fungible-tokens-contract",children:[{value:"Fetch Token Supply",id:"fetch-token-supply",children:[]},{value:"Fetch Token Balance",id:"fetch-token-balance",children:[]},{value:"Transfer Token",id:"transfer-token",children:[]},{value:"Adding Token Allowance",id:"adding-token-allowance",children:[]},{value:"Calling TransferFrom",id:"calling-transferfrom",children:[]}]},{value:"Tracking Incoming ZRC-2 Deposit",id:"tracking-incoming-zrc-2-deposit",children:[]},{value:"Getting your Token Listed",id:"getting-your-token-listed",children:[{value:"Listing on Zilswap",id:"listing-on-zilswap",children:[]},{value:"Listing on Viewblock",id:"listing-on-viewblock",children:[]}]},{value:"Other References",id:"other-references",children:[]}],d={rightToc:s};function p(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(n.a)({},d,a,{components:t,mdxType:"MDXLayout"}),Object(c.b)("hr",null),Object(c.b)("p",null,"This guide is meant for wallet developers looking to add support for ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/Zilliqa/ZRC/blob/master/zrcs/zrc-2.md"}),"ZRC-2 tokens")," in their wallet.\nSince most of the wallet front-ends are built using a JavaScript framework, most developers would find the code found in the ",Object(c.b)("inlineCode",{parentName:"p"},"js")," tab to be relevant to them. We have included code snippets for some other languages as well in case you want to handle these functionalities\nat the backend."),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"It is assumed that you have already installed language-specific Zilliqa SDKs, e.g., zilliqa-js, laksaj, pyzil, gozilliqa."))),Object(c.b)("h2",{id:"introduction-to-zrc-2"},"Introduction to ZRC-2"),Object(c.b)("p",null,Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/Zilliqa/ZRC/blob/master/zrcs/zrc-2.md"}),"ZRC-2")," is the formal standard for Fungible Token in Zilliqa. It is an open standard for creating currencies on the Zilliqa blockchain."),Object(c.b)("p",null,"The ZRC-2 standard allows for functionalities like"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Minting/burning tokens"),Object(c.b)("li",{parentName:"ul"},"Transferring tokens from one account to another"),Object(c.b)("li",{parentName:"ul"},"Querying account token balance"),Object(c.b)("li",{parentName:"ul"},"Querying total token balances"),Object(c.b)("li",{parentName:"ul"},"Approving third party to spend a certain amount of tokens"),Object(c.b)("li",{parentName:"ul"},"Etc.")),Object(c.b)("h2",{id:"examples-of-zrc-2"},"Examples of ZRC-2"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.zilliqa.com/xsgd"}),"$XSGD")," - the first Singapore dollar-pegged stablecoin built by ",Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.xfers.com/"}),"Xfers")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/Zilliqa/ZIP/blob/master/zips/zip-11.md#governance-tokens-aka-gzil"}),"$gZIL")," - Governance ZIL token earned through Zilliqa Seed Node Staking Program")),Object(c.b)("h2",{id:"getting-testnet-zrc-2-tokens"},"Getting Testnet ZRC-2 Tokens"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"https://faucet.xfers.com/"}),"$XSGD faucet")," by Xfers"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"https://testnet-stake.zilliqa.com/"}),"Stake testnet $ZIL and earn testnet $gZIL"))),Object(c.b)("h2",{id:"zrc-2-specification"},"ZRC-2 Specification"),Object(c.b)("p",null,"ZRC-2 fungible tokens contract consists of the following components in smart contracts as per the ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/Zilliqa/ZRC/blob/master/zrcs/zrc-2.md#iv-specification"}),"specification"),"."),Object(c.b)("h3",{id:"error-codes"},"Error Codes"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Name"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Type"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Code"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Mandatory?"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"CodeIsSender")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Int32")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"-1")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"CodeInsufficientFunds")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Int32")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"-2")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"CodeInsufficientAllowance")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Int32")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"-3")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"CodeNotOwner")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Int32")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"-4")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u274c "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"CodeNotApprovedOperator")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Int32")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"-5")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u274c "))))),Object(c.b)("h3",{id:"immutable-variables"},"Immutable Variables"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Name"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Type"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Mandatory?"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"contract_owner")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"ByStr20")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"name")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"String")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"symbol")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"String")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"decimals")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Uint32")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"init_supply")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Uint128")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"default_operators")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"List ByStr20")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u274c "))))),Object(c.b)("h3",{id:"mutable-variables"},"Mutable Variables"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Name"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Type"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Mandatory?"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"total_supply")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Uint128")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"balances")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Map ByStr20 Uint128")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"allowances")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Map ByStr20 (Map ByStr20 Uint128)")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"operators")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Map ByStr20 (Map ByStr20 Unit)")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u274c "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"revoked_default_operators")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Map ByStr20 (Map ByStr20 Unit)")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u274c "))))),Object(c.b)("h3",{id:"transitions-and-events"},"Transitions and Events"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Name"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Events"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Mandatory?"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"IsOperatorFor()")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u274c "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Mint()")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Minted"),", ",Object(c.b)("inlineCode",{parentName:"td"},"Error")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u274c "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Burn()")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Burnt"),", ",Object(c.b)("inlineCode",{parentName:"td"},"Error")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u274c "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"AuthorizeOperator()")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"AuthorizeOperatorSuccess"),", ",Object(c.b)("inlineCode",{parentName:"td"},"Error")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u274c "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"RevokeOperator()")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"RevokeOperatorSuccess"),", ",Object(c.b)("inlineCode",{parentName:"td"},"Error")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u274c "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"IncreaseAllowance()")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"IncreasedAllowance"),", ",Object(c.b)("inlineCode",{parentName:"td"},"Error")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"DecreaseAllowance()")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"DecreasedAllowance"),", ",Object(c.b)("inlineCode",{parentName:"td"},"Error")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Transfer()")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"TransferSuccess"),", ",Object(c.b)("inlineCode",{parentName:"td"},"Error")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"TransferFrom()")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"TransferFromSuccess"),", ",Object(c.b)("inlineCode",{parentName:"td"},"Error")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u2714\ufe0f "))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"OperatorSend()")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"OperatorSendSuccess"),", ",Object(c.b)("inlineCode",{parentName:"td"},"Error")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("center",null," \u274c "))))),Object(c.b)("h2",{id:"checking-if-contract-is-compliant-with-zrc-2-standard"},"Checking if Contract is Compliant with ZRC-2 Standard"),Object(c.b)("p",null,"In order to check if the address entered by the user is a ZRC-2 compliant contract, we need to look at the contract code and check if it has the required properties."),Object(c.b)("h3",{id:"check-immutable-variables"},"Check Immutable Variables"),Object(c.b)("p",null,"For immutable variables, we'll use the ",Object(c.b)("inlineCode",{parentName:"p"},"GetSmartContractInit")," method of the Zilliqa API to get the immutable variables of the contract.\nThe address of the ZRC-2 contract referred below is ",Object(c.b)("inlineCode",{parentName:"p"},"0x173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"),"."),Object(c.b)("h4",{id:"example-request"},"Example Request"),Object(c.b)(l.a,{defaultValue:"cURL",values:[{label:"cURL",value:"cURL"},{label:"js",value:"js"},{label:"java",value:"java"},{label:"python",value:"python"},{label:"go",value:"go"}],mdxType:"Tabs"},Object(c.b)(b.a,{value:"cURL",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),'curl -d \'{\n    "id": "1",\n    "jsonrpc": "2.0",\n    "method": "GetSmartContractInit",\n    "params": ["173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"]\n}\' -H "Content-Type: application/json" -X POST "https://api.zilliqa.com/"\n'))),Object(c.b)(b.a,{value:"js",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"const smartContractInit = await zilliqa.blockchain.getSmartContractInit(\n  '173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5'\n);\nconsole.log(smartContractInit.result);\n"))),Object(c.b)(b.a,{value:"java",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-java"}),'public class App {\n    public static void main(String[] args) throws IOException {\n        HttpProvider client = new HttpProvider("https://api.zilliqa.com");\n        Rep<List<Contract.State>> smartContractInit = client.getSmartContractInit("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5");\n        System.out.println(new Gson().toJson(smartContractInit));\n    }\n}\n'))),Object(c.b)(b.a,{value:"python",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),'from pyzil.zilliqa import chain\nchain.set_active_chain(chain.MainNet)\nprint(chain.active_chain.api.GetSmartContractInit("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"))\n'))),Object(c.b)(b.a,{value:"go",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-go"}),'func GetSmartContractInit() {\n    provider := NewProvider("https://api.zilliqa.com/")\n    response := provider.GetSmartContractInit("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5")\n    result, _ := json.Marshal(response)\n    fmt.Println(string(result))\n}\n')))),Object(c.b)("h4",{id:"example-response"},"Example Response"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "1",\n  "jsonrpc": "2.0",\n  "result": [\n    {\n      "type": "Uint32",\n      "value": "0",\n      "vname": "_scilla_version"\n    },\n    {\n      "type": "ByStr20",\n      "value": "0x0f8167a0CBFfb8AB1d1919E31f83DC26C863D0F9",\n      "vname": "contract_owner"\n    },\n    {\n      "type": "String",\n      "value": "XSGD",\n      "vname": "name"\n    },\n    {\n      "type": "String",\n      "value": "XSGD",\n      "vname": "symbol"\n    },\n    {\n      "type": "Uint32",\n      "value": "6",\n      "vname": "decimals"\n    },\n    {\n      "type": "Uint128",\n      "value": "0",\n      "vname": "init_supply"\n    },\n    {\n      "type": "ByStr20",\n      "value": "0x0f8167a0CBFfb8AB1d1919E31f83DC26C863D0F9",\n      "vname": "init_implementation"\n    },\n    {\n      "type": "ByStr20",\n      "value": "0x0f8167a0CBFfb8AB1d1919E31f83DC26C863D0F9",\n      "vname": "init_admin"\n    },\n    {\n      "type": "BNum",\n      "value": "732529",\n      "vname": "_creation_block"\n    },\n    {\n      "type": "ByStr20",\n      "value": "0x173ca6770aa56eb00511dac8e6e13b3d7f16a5a5",\n      "vname": "_this_address"\n    }\n  ]\n}\n')),Object(c.b)("p",null,"The response received consists of the ",Object(c.b)("inlineCode",{parentName:"p"},"type"),", ",Object(c.b)("inlineCode",{parentName:"p"},"value"),", and ",Object(c.b)("inlineCode",{parentName:"p"},"vname")," for each immutable variable."),Object(c.b)("p",null,"To check whether a contract is compliant with the ZRC-2 standard's immutable variables requirement, see if the contract implements the ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"#immutable-variables"}),"mandatory immutable variables"),"."),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"This code snippet is in JavaScript but the same logic can be applied in other languages."))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"let vNameArray = []; //Array to store immutable variable names\nfor (let i = 0; i < smartContractInit.result.length; i++) {\n  vNameArray[i] = smartContractInit.result[i].vname;\n}\n//check if the immutable variables: name, symbol, decimals & init_supply exist in the vName array.\nlet isZRC2 =\n  vNameArray.includes('name') &&\n  vNameArray.includes('symbol') &&\n  vNameArray.includes('decimals') &&\n  vNameArray.includes('init_supply');\n\nconsole.log(isZRC2);\n")),Object(c.b)("h3",{id:"check-mutable-variables"},"Check Mutable Variables"),Object(c.b)("p",null,"For mutable variables, we'll use the ",Object(c.b)("inlineCode",{parentName:"p"},"GetSmartContractState")," method of the Zilliqa API to get the mutable variables of the contract.\nThe address of the ZRC2 contract referred below is ",Object(c.b)("inlineCode",{parentName:"p"},"0x173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"),"."),Object(c.b)("h4",{id:"example-request-1"},"Example Request"),Object(c.b)(l.a,{defaultValue:"cURL",values:[{label:"cURL",value:"cURL"},{label:"js",value:"js"},{label:"java",value:"java"},{label:"python",value:"python"},{label:"go",value:"go"}],mdxType:"Tabs"},Object(c.b)(b.a,{value:"cURL",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),'curl -d \'{\n    "id": "1",\n    "jsonrpc": "2.0",\n    "method": "GetSmartContractState",\n    "params": ["173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"]\n}\' -H "Content-Type: application/json" -X POST "https://api.zilliqa.com/"\n'))),Object(c.b)(b.a,{value:"js",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"const smartContractState = await zilliqa.blockchain.getSmartContractState(\n  '173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5'\n);\nconsole.log(smartContractState.result);\n"))),Object(c.b)(b.a,{value:"java",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-java"}),'public class App {\n    public static void main(String[] args) throws IOException {\n        HttpProvider client = new HttpProvider("https://api.zilliqa.com");\n        String smartContractState = client.getSmartContractState("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5");\n        System.out.println(smartContractState);\n    }\n}\n'))),Object(c.b)(b.a,{value:"python",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),'from pyzil.zilliqa import chain\nchain.set_active_chain(chain.MainNet)\nprint(chain.active_chain.api.GetSmartContractState("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"))\n'))),Object(c.b)(b.a,{value:"go",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-go"}),'func GetSmartContractState() {\n    provider := NewProvider("https://api.zilliqa.com/")\n    response := provider.GetSmartContractState("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5")\n    result, _ := json.Marshal(response)\n    fmt.Println(string(result))\n}\n')))),Object(c.b)("h4",{id:"example-response-1"},"Example Response"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "1",\n  "jsonrpc": "2.0",\n  "result": {\n    "_balance": "0",\n    "admin": "0x2f604cbd408e2c8b7442b1b629a1288c44945130",\n    "allowances": {},\n    "balances": {\n      "0x05d087623bc636108d450e0550ddbfc03da99fa9": "10000000",\n      "0x0f8167a0cbffb8ab1d1919e31f83dc26c863d0f9": "24250000",\n      "0x18c241a5f0d6cf380f721618880f2c2b7aa5ea97": "9975750000",\n      "0x5abf71d798ca594b7317b04f52ad5a31fae62170": "10000000",\n      "0x8c3de413a9d8d602a1757210ab539853103e08d8": "250000000000",\n      "0x93eb1d0cb7ba3962fcc86cd28aa45b241c888277": "20000",\n      "0xab61c57a9a4b2742a4a325ecd9e77b5da67f663a": "980000",\n      "0xabe1e844c776e97beb619f3ca64faa2b3edc2840": "400000",\n      "0xc48565c853fe4ffa5d7eac33e255141134640ceb": "600000",\n      "0xf5f9e1ad8ea6439f625e12b8ef57e1e99ac2d383": "7000000"\n    },\n    "implementation": "0x3bd9ad6fee7bfdf5b5875828b555e4f702e427cd",\n    "total_supply": "260029000000"\n  }\n}\n')),Object(c.b)("p",null,"The response received above consists of the mutable variables ",Object(c.b)("inlineCode",{parentName:"p"},"total_supply"),", ",Object(c.b)("inlineCode",{parentName:"p"},"balances"),", and ",Object(c.b)("inlineCode",{parentName:"p"},"allowances"),"."),Object(c.b)("p",null,"To check whether a contract is compliant with the ZRC-2 standard's mutable variables requirement, see if the contract implements the ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"#mutable-variables"}),"mandatory mutable variables"),"."),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"This code snippet is in JavaScript but the same logic can be applied in other languages."))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"let vNameArray = []; //Array to store mutable variable names\nfor (let i = 0; i < smartContractState.result.length; i++) {\n  vNameArray[i] = smartContractState.result[i].vname;\n}\n//check if the mutable variables: total_supply, balances & allowances exist in the vName array.\nlet isZRC2 =\n  vNameArray.includes('total_supply') &&\n  vNameArray.includes('balances') &&\n  vNameArray.includes('allowances');\n\nconsole.log(isZRC2);\n")),Object(c.b)("h3",{id:"check-transitions-events-and-error-codes"},"Check Transitions, Events, and Error Codes"),Object(c.b)("p",null,"Currently, you need to look at the smart contract code manually and check for transitions, events, and error codes in a contract. To check whether a contract is compliant with the ZRC-2 standard's error codes - as well transitions and events - requirement, see if the contract implements the ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"#error-codes"}),"mandatory error codes")," and ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"#transitions-and-events"}),"mandatory transitions and events"),"."),Object(c.b)("h2",{id:"integrating-with-zrc-2-fungible-tokens-contract"},"Integrating with ZRC-2 Fungible Tokens Contract"),Object(c.b)("h3",{id:"fetch-token-supply"},"Fetch Token Supply"),Object(c.b)("p",null,"In a ZRC-2 fungible tokens contract, the mutable field ",Object(c.b)("inlineCode",{parentName:"p"},"total_supply")," stores the value of the current total supply.\nWe'll use the ",Object(c.b)("inlineCode",{parentName:"p"},"GetSmartContractState")," method of the Zilliqa API to get the mutable variables of the contract.\nThe address of the ZRC-2 contract referred below is ",Object(c.b)("inlineCode",{parentName:"p"},"0x173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"),"."),Object(c.b)("h4",{id:"example-request-2"},"Example Request"),Object(c.b)(l.a,{defaultValue:"cURL",values:[{label:"cURL",value:"cURL"},{label:"js",value:"js"},{label:"java",value:"java"},{label:"python",value:"python"},{label:"go",value:"go"}],mdxType:"Tabs"},Object(c.b)(b.a,{value:"cURL",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),'curl -d \'{\n    "id": "1",\n    "jsonrpc": "2.0",\n    "method": "GetSmartContractState",\n    "params": ["173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"]\n}\' -H "Content-Type: application/json" -X POST "https://api.zilliqa.com/"\n'))),Object(c.b)(b.a,{value:"js",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"const smartContractState = await zilliqa.blockchain.getSmartContractState(\n  '173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5'\n);\nconsole.log(smartContractState.result);\n"))),Object(c.b)(b.a,{value:"java",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-java"}),'public class App {\n    public static void main(String[] args) throws IOException {\n        HttpProvider client = new HttpProvider("https://api.zilliqa.com");\n        String smartContractState = client.getSmartContractState("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5");\n        System.out.println(smartContractState);\n    }\n}\n'))),Object(c.b)(b.a,{value:"python",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),'from pyzil.zilliqa import chain\nchain.set_active_chain(chain.MainNet)\nprint(chain.active_chain.api.GetSmartContractState("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"))\n'))),Object(c.b)(b.a,{value:"go",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-go"}),'func GetSmartContractState() {\n    provider := NewProvider("https://api.zilliqa.com/")\n    response := provider.GetSmartContractState("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5")\n    result, _ := json.Marshal(response)\n    fmt.Println(string(result))\n}\n')))),Object(c.b)("h4",{id:"example-response-2"},"Example Response"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "1",\n  "jsonrpc": "2.0",\n  "result": {\n    "_balance": "0",\n    "admin": "0x2f604cbd408e2c8b7442b1b629a1288c44945130",\n    "allowances": {},\n    "balances": {\n      "0x05d087623bc636108d450e0550ddbfc03da99fa9": "10000000",\n      "0x0f8167a0cbffb8ab1d1919e31f83dc26c863d0f9": "24250000",\n      "0x18c241a5f0d6cf380f721618880f2c2b7aa5ea97": "9975750000",\n      "0x5abf71d798ca594b7317b04f52ad5a31fae62170": "10000000",\n      "0x8c3de413a9d8d602a1757210ab539853103e08d8": "250000000000",\n      "0x93eb1d0cb7ba3962fcc86cd28aa45b241c888277": "20000",\n      "0xab61c57a9a4b2742a4a325ecd9e77b5da67f663a": "980000",\n      "0xabe1e844c776e97beb619f3ca64faa2b3edc2840": "400000",\n      "0xc48565c853fe4ffa5d7eac33e255141134640ceb": "600000",\n      "0xf5f9e1ad8ea6439f625e12b8ef57e1e99ac2d383": "7000000"\n    },\n    "implementation": "0x3bd9ad6fee7bfdf5b5875828b555e4f702e427cd",\n    "total_supply": "260029000000"\n  }\n}\n')),Object(c.b)("p",null,"If the response json received above is stored in the variable ",Object(c.b)("inlineCode",{parentName:"p"},"smartContractState"),", total supply would then be:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"let smartContractState = await zilliqa.blockchain.getSmartContractState(\n  contractAddress\n);\nlet totalSupply = smartContractState.result.total_supply; // Total Supply\n")),Object(c.b)("h3",{id:"fetch-token-balance"},"Fetch Token Balance"),Object(c.b)("p",null,"In a ZRC-2 fungible tokens contract, the mutable field ",Object(c.b)("inlineCode",{parentName:"p"},"balances")," (with data type ",Object(c.b)("inlineCode",{parentName:"p"},"Map"),") stores the mapping between addresses and their\ncorresponding token balances. We'll use the ",Object(c.b)("inlineCode",{parentName:"p"},"GetSmartContractState")," method of the Zilliqa API to get the mutable variables of the contract.\nThe address of the ZRC-2 contract referred below is ",Object(c.b)("inlineCode",{parentName:"p"},"0x173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"),"."),Object(c.b)("h4",{id:"example-request-3"},"Example Request"),Object(c.b)(l.a,{defaultValue:"cURL",values:[{label:"cURL",value:"cURL"},{label:"js",value:"js"},{label:"java",value:"java"},{label:"python",value:"python"},{label:"go",value:"go"}],mdxType:"Tabs"},Object(c.b)(b.a,{value:"cURL",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),'curl -d \'{\n    "id": "1",\n    "jsonrpc": "2.0",\n    "method": "GetSmartContractState",\n    "params": ["173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"]\n}\' -H "Content-Type: application/json" -X POST "https://api.zilliqa.com/"\n'))),Object(c.b)(b.a,{value:"js",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"const smartContractState = await zilliqa.blockchain.getSmartContractState(\n  '173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5'\n);\nconsole.log(smartContractState.result);\n"))),Object(c.b)(b.a,{value:"java",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-java"}),'public class App {\n    public static void main(String[] args) throws IOException {\n        HttpProvider client = new HttpProvider("https://api.zilliqa.com");\n        String smartContractState = client.getSmartContractState("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5");\n        System.out.println(smartContractState);\n    }\n}\n'))),Object(c.b)(b.a,{value:"python",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-python"}),'from pyzil.zilliqa import chain\nchain.set_active_chain(chain.MainNet)\nprint(chain.active_chain.api.GetSmartContractState("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5"))\n'))),Object(c.b)(b.a,{value:"go",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-go"}),'func GetSmartContractState() {\n    provider := NewProvider("https://api.zilliqa.com/")\n    response := provider.GetSmartContractState("173Ca6770Aa56EB00511Dac8e6E13B3D7f16a5a5")\n    result, _ := json.Marshal(response)\n    fmt.Println(string(result))\n}\n')))),Object(c.b)("h4",{id:"example-response-3"},"Example Response"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "1",\n  "jsonrpc": "2.0",\n  "result": {\n    "_balance": "0",\n    "admin": "0x2f604cbd408e2c8b7442b1b629a1288c44945130",\n    "allowances": {},\n    "balances": {\n      "0x05d087623bc636108d450e0550ddbfc03da99fa9": "10000000",\n      "0x0f8167a0cbffb8ab1d1919e31f83dc26c863d0f9": "24250000",\n      "0x18c241a5f0d6cf380f721618880f2c2b7aa5ea97": "9975750000",\n      "0x5abf71d798ca594b7317b04f52ad5a31fae62170": "10000000",\n      "0x8c3de413a9d8d602a1757210ab539853103e08d8": "250000000000",\n      "0x93eb1d0cb7ba3962fcc86cd28aa45b241c888277": "20000",\n      "0xab61c57a9a4b2742a4a325ecd9e77b5da67f663a": "980000",\n      "0xabe1e844c776e97beb619f3ca64faa2b3edc2840": "400000",\n      "0xc48565c853fe4ffa5d7eac33e255141134640ceb": "600000",\n      "0xf5f9e1ad8ea6439f625e12b8ef57e1e99ac2d383": "7000000"\n    },\n    "implementation": "0x3bd9ad6fee7bfdf5b5875828b555e4f702e427cd",\n    "total_supply": "260029000000"\n  }\n}\n')),Object(c.b)("p",null,"If the value of user's address is stored in the variable ",Object(c.b)("inlineCode",{parentName:"p"},"userAddress"),", and the response json received above is stored in the variable ",Object(c.b)("inlineCode",{parentName:"p"},"smartContractState"),", a user's token balance would then be:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"smartContractState.result.balances[userAddress];\n")),Object(c.b)("h3",{id:"transfer-token"},"Transfer Token"),Object(c.b)("p",null,"ZRC-2 contracts have the ",Object(c.b)("inlineCode",{parentName:"p"},"transfer")," transition that allows users to transfer tokens to another address by specifying the receiving address and amount."),Object(c.b)("p",null,"The code snippet below illustrates how one can transfer ZRC-2 tokens to another address."),Object(c.b)(l.a,{defaultValue:"js",values:[{label:"js",value:"js"},{label:"java",value:"java"},{label:"go",value:"go"}],mdxType:"Tabs"},Object(c.b)(b.a,{value:"js",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"//zilliqa, privateKey, bytes, units, recipientAddress, sendingAmount are defined in the codebase before\n\nzilliqa.wallet.addByPrivateKey(privateKey);\nconst CHAIN_ID = 1;\nconst MSG_VERSION = 1;\nconst VERSION = bytes.pack(CHAIN_ID, MSG_VERSION);\nconst myGasPrice = units.toQa('1000', units.Units.Li); // Gas Price that will be used by all transactions\ntry {\n  const contract = zilliqa.contracts.at(contractAddress);\n  const callTx = await contract.call(\n    'Transfer',\n    [\n      {\n        vname: 'to',\n        type: 'ByStr20',\n        value: recipientAddress,\n      },\n      {\n        vname: 'amount',\n        type: 'Uint128',\n        value: sendingAmount,\n      },\n    ],\n    {\n      // amount, gasPrice and gasLimit must be explicitly provided\n      version: VERSION,\n      amount: new BN(0),\n      gasPrice: myGasPrice,\n      gasLimit: Long.fromNumber(10000),\n    }\n  );\n  console.log(JSON.stringify(callTx.TranID));\n} catch (err) {\n  console.log(err);\n}\n"))),Object(c.b)(b.a,{value:"java",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-java"}),'List<Value> init = Arrays.asList();\nWallet wallet = new Wallet();\nwallet.addByPrivateKey(privateKey);\nContractFactory factory = ContractFactory.builder().provider(new HttpProvider("https://api.zilliqa.com/")).signer(wallet).build();\nContract contract = factory.atContract(contractAddress, "", (Value[]) init.toArray(), "");\nInteger nonce = Integer.valueOf(factory.getProvider().getBalance(address).getResult().getNonce());\nCallParams params = CallParams.builder().nonce(String.valueOf(nonce + 1)).version(String.valueOf(pack(333, 1))).gasPrice("1000000000").gasLimit("1000").senderPubKey(publicKey).amount("0").build();\nList<Value> values = Arrays.asList(Value.builder().vname("to").type("ByStr20").value(recipientAddress).build(), Value.builder().vname("amount").type("Uint128").value("10").build());\ncontract.call("Transfer", (Value[]) values.toArray(), params, 3000, 3);\n\n'))),Object(c.b)(b.a,{value:"go",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-go"}),'wallet := account.NewWallet()\n    wallet.AddByPrivateKey(privateKey)\n    publickKey := keytools.GetPublicKeyFromPrivateKey(util.DecodeHex(privateKey), true)\n    address := keytools.GetAddressFromPublic(publickKey)\n    fmt.Println(address)\n\n    contract := Contract{\n        Address: "contractAddress",\n        Signer:  wallet,\n    }\n\n    args := []core.ContractValue{\n        {\n            "to",\n            "ByStr20",\n            "0x" + address,\n        },\n        {\n            "amount",\n            "Uint128",\n            "10",\n        },\n    }\n\n    tx, err2 := contract.CallFor("Transfer", args, true, "0", TestNet)\n    assert.Nil(t, err2, err2)\n    tx.Confirm(tx.ID, 1000, 3, contract.Provider)\n    assert.True(t, tx.Status == core.Confirmed)\n\n\n')))),Object(c.b)("h3",{id:"adding-token-allowance"},"Adding Token Allowance"),Object(c.b)("p",null,"The Zilliqa blockchain allows transactions with smart contracts and those smart contracts can be facilitated by third parties like a DEX or a protocol relayer \u2013 permissions have to be granted to the third party by token owners before those smart contracts can execute.\nToken allowance permission gives the dApp contract the right to transfer the user's ZRC-2 token if the current approved allowance is equal to or more than ",Object(c.b)("inlineCode",{parentName:"p"},"amount")," requested to being transferred. The approval is done by calling ",Object(c.b)("inlineCode",{parentName:"p"},"IncreaseAllowance")," transition."),Object(c.b)("p",null,"In the example below, the allowance amount is the same as the entire token supply. This is done so that the approval needs to only be done once per token contract, reducing the number of approval transactions required for users conducting multiple swaps."),Object(c.b)("p",null,"However, you can make this value to be specific as well. Non-custodial control of the token should be ensured by the dApp contract itself, which does not allow for the transfer of tokens unless explicitly invoked by the sender."),Object(c.b)(l.a,{defaultValue:"js",values:[{label:"js",value:"js"}],mdxType:"Tabs"},Object(c.b)(b.a,{value:"js",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"let increaseAllowance = async function (contractAddress, spenderAddress) {\n  //contractAddress is the address of ZRC2 contract\n  //spenderAddress is the address of which you want to increase the allowance, eg: your dApp contract\n  const CHAIN_ID = 333;\n  const MSG_VERSION = 1;\n  const VERSION = bytes.pack(CHAIN_ID, MSG_VERSION);\n  const myGasPrice = units.toQa('2000', units.Units.Li);\n\n  let smartContractState = await zilliqa.blockchain.getSmartContractState(\n    contractAddress\n  );\n  let totalSupply = smartContractState.result.total_supply;\n\n  try {\n    const contract = zilliqa.contracts.at(contractAddress);\n    const callTx = await contract.call(\n      'IncreaseAllowance',\n      [\n        {\n          vname: 'spender',\n          type: 'ByStr20',\n          value: spenderAddress,\n        },\n        {\n          vname: 'amount',\n          type: 'Uint128',\n          value: totalSupply,\n        },\n      ],\n      {\n        // amount, gasPrice and gasLimit must be explicitly provided\n        version: VERSION,\n        amount: new BN(0),\n        gasPrice: myGasPrice,\n        gasLimit: Long.fromNumber(10000),\n      }\n    );\n    console.log(JSON.stringify(callTx.TranID));\n  } catch (err) {\n    console.log(err);\n  }\n};\n")))),Object(c.b)("h3",{id:"calling-transferfrom"},"Calling TransferFrom"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"TransferFrom")," transition moves a given amount of tokens from one address to another using the allowance mechanism.\nThe caller must be an ",Object(c.b)("inlineCode",{parentName:"p"},"approved_spender"),", refer the section on ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"dev-keys-zrc2-wallet-support#adding-token-allowance"}),"Adding Token Allowance"),"\nif you want to add an address to become an approved_sender.\nBalance of recipient will increase and the balance of ",Object(c.b)("inlineCode",{parentName:"p"},"token_owner")," will decrease."),Object(c.b)(l.a,{defaultValue:"js",values:[{label:"js",value:"js"}],mdxType:"Tabs"},Object(c.b)(b.a,{value:"js",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"let transferFrom = async function (\n  contractAddress,\n  userAddress,\n  receiverAddress\n) {\n  const CHAIN_ID = 333;\n  const MSG_VERSION = 1;\n  const VERSION = bytes.pack(CHAIN_ID, MSG_VERSION);\n  const myGasPrice = units.toQa('2000', units.Units.Li);\n\n  try {\n    const contract = zilliqa.contracts.at(contractAddress);\n    const callTx = await contract.call(\n      'TransferFrom',\n      [\n        {\n          vname: 'from',\n          type: 'ByStr20',\n          value: userAddress,\n        },\n        {\n          vname: 'to',\n          type: 'ByStr20',\n          value: receiverAddress,\n        },\n        {\n          vname: 'amount',\n          type: 'Uint128',\n          value: '1000',\n        },\n      ],\n      {\n        // amount, gasPrice and gasLimit must be explicitly provided\n        version: VERSION,\n        amount: new BN(0),\n        gasPrice: myGasPrice,\n        gasLimit: Long.fromNumber(10000),\n      }\n    );\n    console.log(JSON.stringify(callTx.TranID));\n  } catch (err) {\n    console.log(err);\n  }\n};\n")))),Object(c.b)("h2",{id:"tracking-incoming-zrc-2-deposit"},"Tracking Incoming ZRC-2 Deposit"),Object(c.b)("p",null,"Please check the ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"../exchanges/exchange-managing-zrc2-tokens#tracking-incoming-zrc-2-deposit"}),"Tracking Incoming ZRC-2 Deposit")," subsection\nunder exchanges section to track any new incoming deposit of a specific ZRC-2 token."),Object(c.b)("h2",{id:"getting-your-token-listed"},"Getting your Token Listed"),Object(c.b)("p",null,"You can get your token listed on various Zilliqa ecosystem products to allow for easier recognition by your community."),Object(c.b)("h3",{id:"listing-on-zilswap"},"Listing on ",Object(c.b)("a",Object(n.a)({parentName:"h3"},{href:"https://zilswap.io/"}),"Zilswap")),Object(c.b)("p",null,"To add your token to the token listed on Zilswap, please refer the README.md file on this ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/Switcheo/zilswap-token-list"}),"repository"),"."),Object(c.b)("p",null,Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://zilpay.xyz/"}),"Zilpay wallet")," also refers to the listed tokens list on Zilswap when deciding which tokens to add to their default list."),Object(c.b)("h3",{id:"listing-on-viewblock"},"Listing on ",Object(c.b)("a",Object(n.a)({parentName:"h3"},{href:"https://viewblock.io/zilliqa"}),"Viewblock")),Object(c.b)("p",null,"To add your token to ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://viewblock.io/zilliqa/tokens"}),"Viewblock tokens listing page"),", please refer to the README.md file on this ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/Ashlar/cryptometa.git"}),"repository"),". Viewblock will assign a score to your token based on the stated token listing criteria."),Object(c.b)("h2",{id:"other-references"},"Other References"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/Zilliqa/ZRC/tree/master/example/zrc2"}),"Sample codes for various ZRC-2 operations"))))}p.isMDXComponent=!0},296:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return u}));var n=a(0),r=a.n(n);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=r.a.createContext({}),s=function(e){var t=r.a.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):b(b({},t),e)),a},d=function(e){var t=s(e.components);return r.a.createElement(o.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,c=e.originalType,l=e.parentName,o=i(e,["components","mdxType","originalType","parentName"]),d=s(a),m=n,u=d["".concat(l,".").concat(m)]||d[m]||p[m]||c;return a?r.a.createElement(u,b(b({ref:t},o),{},{components:a})):r.a.createElement(u,b({ref:t},o))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var c=a.length,l=new Array(c);l[0]=m;var b={};for(var i in t)hasOwnProperty.call(t,i)&&(b[i]=t[i]);b.originalType=e,b.mdxType="string"==typeof e?e:n,l[1]=b;for(var o=2;o<c;o++)l[o]=a[o];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"},297:function(e,t,a){"use strict";function n(e){var t,a,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(r&&(r+=" "),r+=a);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.a=function(){for(var e,t,a=0,r="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(r&&(r+=" "),r+=t);return r}},298:function(e,t,a){"use strict";var n=a(0);const r=Object(n.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{},isAnnouncementBarClosed:!1,closeAnnouncementBar:()=>{}});t.a=r},299:function(e,t,a){"use strict";var n=a(0),r=a(298);t.a=function(){return Object(n.useContext)(r.a)}},300:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(299),l=a(297),b=a(92),i=a.n(b);const o=37,s=39;t.a=function(e){const{block:t,children:a,defaultValue:b,values:d,groupId:p}=e,{tabGroupChoices:m,setTabGroupChoices:u}=Object(c.a)(),[j,O]=Object(n.useState)(b);if(null!=p){const e=m[p];null!=e&&e!==j&&d.some(t=>t.value===e)&&O(e)}const h=e=>{O(e),null!=p&&u(p,e)},g=[];return r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(l.a)("tabs",{"tabs--block":t})},d.map(({value:e,label:t})=>r.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":j===e,className:Object(l.a)("tabs__item",i.a.tabItem,{"tabs__item--active":j===e}),key:e,ref:e=>g.push(e),onKeyDown:e=>((e,t,a)=>{switch(a.keyCode){case s:((e,t)=>{const a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()})(e,t);break;case o:((e,t)=>{const a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()})(e,t)}})(g,e.target,e),onFocus:()=>h(e),onClick:()=>h(e)},t))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(a).filter(e=>e.props.value===j)[0]))}},301:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){return r.a.createElement("div",null,e.children)}}}]);